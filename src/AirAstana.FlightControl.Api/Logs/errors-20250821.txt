2025-08-21 10:39:53.259 +05:00 [INF] User profile is available. Using '/Users/asylbekanarbaj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-21 10:39:53.456 +05:00 [INF] Now listening on: http://localhost:5000
2025-08-21 10:39:53.456 +05:00 [INF] Now listening on: https://localhost:5001
2025-08-21 10:39:53.457 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-21 10:39:53.457 +05:00 [INF] Hosting environment: Development
2025-08-21 10:39:53.458 +05:00 [INF] Content root path: /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Api/
2025-08-21 10:40:01.675 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - -
2025-08-21 10:40:01.958 +05:00 [INF] HTTP GET / responded 404 in 3.0608 ms
2025-08-21 10:40:01.978 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - - - 404 0 - 305.5038ms
2025-08-21 10:40:04.885 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2025-08-21 10:40:04.992 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 106.8218ms
2025-08-21 10:40:05.032 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js - -
2025-08-21 10:40:05.271 +05:00 [INF] Sending file. Request path: '/swagger-ui-bundle.js'. Physical path: 'N/A'
2025-08-21 10:40:05.272 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/swagger-ui-bundle.js - - - 200 1456926 application/javascript 240.6342ms
2025-08-21 10:40:05.333 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2025-08-21 10:40:05.410 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 77.3775ms
2025-08-21 19:28:24.292 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 19:28:24.759 +05:00 [INF] Executed DbCommand (36ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 19:28:24.981 +05:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 19:28:24.992 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-21 19:28:25.002 +05:00 [INF] No migrations were applied. The database is already up to date.
2025-08-21 19:28:25.112 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS r)
2025-08-21 19:28:25.327 +05:00 [INF] Executed DbCommand (61ms) [Parameters=[@p0='?', @p1='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Roles" ("Code")
VALUES (@p0)
RETURNING "Id";
INSERT INTO "Roles" ("Code")
VALUES (@p1)
RETURNING "Id";
2025-08-21 19:28:25.821 +05:00 [INF] Executed DbCommand (26ms) [Parameters=[@p0='?', @p1='?' (DbType = Int32), @p2='?', @p3='?', @p4='?' (DbType = Int32), @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Users" ("Password", "RoleId", "Username")
VALUES (@p0, @p1, @p2)
RETURNING "Id";
INSERT INTO "Users" ("Password", "RoleId", "Username")
VALUES (@p3, @p4, @p5)
RETURNING "Id";
2025-08-21 19:28:25.946 +05:00 [INF] User profile is available. Using '/Users/asylbekanarbaj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-21 19:28:26.132 +05:00 [INF] Now listening on: http://localhost:5000
2025-08-21 19:28:26.132 +05:00 [INF] Now listening on: https://localhost:5001
2025-08-21 19:28:26.133 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-21 19:28:26.133 +05:00 [INF] Hosting environment: Development
2025-08-21 19:28:26.133 +05:00 [INF] Content root path: /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Api/
2025-08-21 19:28:28.777 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/ - -
2025-08-21 19:28:28.955 +05:00 [INF] HTTP GET / responded 404 in 1.0815 ms
2025-08-21 19:28:28.976 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/ - - - 404 0 - 200.2736ms
2025-08-21 19:28:32.129 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2025-08-21 19:28:32.262 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 133.0592ms
2025-08-21 19:28:32.455 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2025-08-21 19:28:32.531 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 75.9195ms
2025-08-21 19:31:05.722 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Auth/login application/json 54
2025-08-21 19:31:05.746 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api)'
2025-08-21 19:31:05.769 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[AirAstana.FlightControl.Application.DTOs.Login.LoginDto+LoginResponse]] Login(LoginRequest) on controller AirAstana.FlightControl.Api.Controllers.AuthController (AirAstana.FlightControl.Api).
2025-08-21 19:31:05.821 +05:00 [INF] Executing action method AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api) - Validation state: "Valid"
2025-08-21 19:31:05.916 +05:00 [INF] Executed action method AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 92.3692ms.
2025-08-21 19:31:05.921 +05:00 [INF] Executing OkObjectResult, writing value of type 'AirAstana.FlightControl.Application.DTOs.Login.LoginDto+LoginResponse'.
2025-08-21 19:31:05.927 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api) in 156.0464ms
2025-08-21 19:31:05.928 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api)'
2025-08-21 19:31:05.928 +05:00 [INF] HTTP POST /api/Auth/login responded 200 in 187.2264 ms
2025-08-21 19:31:05.928 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Auth/login application/json 54 - 200 - application/json;+charset=utf-8 205.9479ms
2025-08-21 19:31:27.359 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2025-08-21 19:31:27.488 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 154.0912ms
2025-08-21 19:31:27.670 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2025-08-21 19:31:27.674 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 4.6113ms
2025-08-21 19:32:58.637 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188
2025-08-21 19:32:58.652 +05:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Moderator)
2025-08-21 19:32:58.658 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-21 19:32:58.659 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188 - 401 0 - 21.7632ms
2025-08-21 19:33:58.000 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Auth/login application/json 54
2025-08-21 19:33:58.003 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api)'
2025-08-21 19:33:58.004 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[AirAstana.FlightControl.Application.DTOs.Login.LoginDto+LoginResponse]] Login(LoginRequest) on controller AirAstana.FlightControl.Api.Controllers.AuthController (AirAstana.FlightControl.Api).
2025-08-21 19:33:58.008 +05:00 [INF] Executing action method AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api) - Validation state: "Valid"
2025-08-21 19:33:58.010 +05:00 [INF] Executed action method AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 1.774ms.
2025-08-21 19:33:58.011 +05:00 [INF] Executing OkObjectResult, writing value of type 'AirAstana.FlightControl.Application.DTOs.Login.LoginDto+LoginResponse'.
2025-08-21 19:33:58.011 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api) in 7.2532ms
2025-08-21 19:33:58.011 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api)'
2025-08-21 19:33:58.012 +05:00 [INF] HTTP POST /api/Auth/login responded 200 in 9.0607 ms
2025-08-21 19:33:58.012 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Auth/login application/json 54 - 200 - application/json;+charset=utf-8 12.2955ms
2025-08-21 19:34:22.775 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188
2025-08-21 19:34:22.816 +05:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Moderator)
2025-08-21 19:34:22.817 +05:00 [INF] AuthenticationScheme: Bearer was forbidden.
2025-08-21 19:34:22.817 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188 - 403 0 - 43.1071ms
2025-08-21 19:34:46.029 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2025-08-21 19:34:46.065 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 36.0717ms
2025-08-21 19:35:03.014 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Auth/login application/json 60
2025-08-21 19:35:03.016 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api)'
2025-08-21 19:35:03.016 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[AirAstana.FlightControl.Application.DTOs.Login.LoginDto+LoginResponse]] Login(LoginRequest) on controller AirAstana.FlightControl.Api.Controllers.AuthController (AirAstana.FlightControl.Api).
2025-08-21 19:35:03.018 +05:00 [INF] Executing action method AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api) - Validation state: "Valid"
2025-08-21 19:35:03.018 +05:00 [INF] Executed action method AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 0.2844ms.
2025-08-21 19:35:03.018 +05:00 [INF] Executing OkObjectResult, writing value of type 'AirAstana.FlightControl.Application.DTOs.Login.LoginDto+LoginResponse'.
2025-08-21 19:35:03.019 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api) in 2.3956ms
2025-08-21 19:35:03.019 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api)'
2025-08-21 19:35:03.019 +05:00 [INF] HTTP POST /api/Auth/login responded 200 in 2.9493 ms
2025-08-21 19:35:03.019 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Auth/login application/json 60 - 200 - application/json;+charset=utf-8 5.0811ms
2025-08-21 19:35:15.567 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188
2025-08-21 19:35:15.569 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 19:35:15.599 +05:00 [INF] Route matched with {action = "Create", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(AirAstana.FlightControl.Application.Features.Flights.Commands.CreateFlightCommand) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 19:35:15.603 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api) in 3.5984ms
2025-08-21 19:35:15.604 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 19:35:15.719 +05:00 [ERR] Unhandled exception occurred while processing /api/Flights
System.InvalidOperationException: Unable to resolve service for type 'MediatR.IMediator' while attempting to activate 'AirAstana.FlightControl.Api.Controllers.FlightsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.GetService(IServiceProvider sp, Type type, Type requiredBy, Boolean hasDefaultValue, Object key)
   at lambda_method102(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AirAstana.FlightControl.Infrastructure.Logging.ExceptionMiddleware.InvokeAsync(HttpContext context) in /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Infrastructure/Logging/ExceptionMiddleware.cs:line 22
2025-08-21 19:35:15.754 +05:00 [ERR] HTTP POST /api/Flights responded 500 in 185.4965 ms
2025-08-21 19:35:15.755 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188 - 500 - application/json 187.3365ms
2025-08-21 19:41:25.046 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 19:41:25.323 +05:00 [INF] Executed DbCommand (55ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 19:41:25.356 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 19:41:25.372 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-21 19:41:25.386 +05:00 [INF] No migrations were applied. The database is already up to date.
2025-08-21 19:41:25.548 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS r)
2025-08-21 19:41:25.623 +05:00 [INF] User profile is available. Using '/Users/asylbekanarbaj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-21 19:41:25.711 +05:00 [INF] Now listening on: http://localhost:5000
2025-08-21 19:41:25.711 +05:00 [INF] Now listening on: https://localhost:5001
2025-08-21 19:41:25.714 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-21 19:41:25.714 +05:00 [INF] Hosting environment: Development
2025-08-21 19:41:25.714 +05:00 [INF] Content root path: /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Api/
2025-08-21 19:41:43.031 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188
2025-08-21 19:41:43.172 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 19:41:43.191 +05:00 [INF] Route matched with {action = "Create", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(AirAstana.FlightControl.Application.Features.Flights.Commands.CreateFlightCommand) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 19:41:43.195 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api) in 1.3975ms
2025-08-21 19:41:43.196 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 19:41:43.196 +05:00 [ERR] Unhandled exception occurred while processing /api/Flights
System.InvalidOperationException: Unable to resolve service for type 'MediatR.IMediator' while attempting to activate 'AirAstana.FlightControl.Api.Controllers.FlightsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method15(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AirAstana.FlightControl.Infrastructure.Logging.ExceptionMiddleware.InvokeAsync(HttpContext context) in /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Infrastructure/Logging/ExceptionMiddleware.cs:line 22
2025-08-21 19:41:43.264 +05:00 [ERR] HTTP POST /api/Flights responded 500 in 93.5527 ms
2025-08-21 19:41:43.265 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188 - 500 - application/json 236.4176ms
2025-08-21 19:41:44.210 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188
2025-08-21 19:41:44.211 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 19:41:44.211 +05:00 [INF] Route matched with {action = "Create", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(AirAstana.FlightControl.Application.Features.Flights.Commands.CreateFlightCommand) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 19:41:44.212 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api) in 0.2269ms
2025-08-21 19:41:44.212 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 19:41:44.212 +05:00 [ERR] Unhandled exception occurred while processing /api/Flights
System.InvalidOperationException: Unable to resolve service for type 'MediatR.IMediator' while attempting to activate 'AirAstana.FlightControl.Api.Controllers.FlightsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method15(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AirAstana.FlightControl.Infrastructure.Logging.ExceptionMiddleware.InvokeAsync(HttpContext context) in /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Infrastructure/Logging/ExceptionMiddleware.cs:line 22
2025-08-21 19:41:44.213 +05:00 [ERR] HTTP POST /api/Flights responded 500 in 1.8866 ms
2025-08-21 19:41:44.213 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188 - 500 - application/json 3.6777ms
2025-08-21 19:41:45.229 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188
2025-08-21 19:41:45.231 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 19:41:45.231 +05:00 [INF] Route matched with {action = "Create", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(AirAstana.FlightControl.Application.Features.Flights.Commands.CreateFlightCommand) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 19:41:45.231 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api) in 0.136ms
2025-08-21 19:41:45.231 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 19:41:45.232 +05:00 [ERR] Unhandled exception occurred while processing /api/Flights
System.InvalidOperationException: Unable to resolve service for type 'MediatR.IMediator' while attempting to activate 'AirAstana.FlightControl.Api.Controllers.FlightsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method15(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AirAstana.FlightControl.Infrastructure.Logging.ExceptionMiddleware.InvokeAsync(HttpContext context) in /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Infrastructure/Logging/ExceptionMiddleware.cs:line 22
2025-08-21 19:41:45.232 +05:00 [ERR] HTTP POST /api/Flights responded 500 in 0.9728 ms
2025-08-21 19:41:45.232 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188 - 500 - application/json 2.7765ms
2025-08-21 19:42:48.771 +05:00 [INF] Application is shutting down...
2025-08-21 19:42:54.399 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 19:42:54.718 +05:00 [INF] Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 19:42:54.750 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 19:42:54.762 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-21 19:42:54.778 +05:00 [INF] No migrations were applied. The database is already up to date.
2025-08-21 19:42:54.920 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS r)
2025-08-21 19:42:54.984 +05:00 [INF] User profile is available. Using '/Users/asylbekanarbaj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-21 19:42:55.072 +05:00 [INF] Now listening on: http://localhost:5000
2025-08-21 19:42:55.072 +05:00 [INF] Now listening on: https://localhost:5001
2025-08-21 19:42:55.075 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-21 19:42:55.075 +05:00 [INF] Hosting environment: Development
2025-08-21 19:42:55.075 +05:00 [INF] Content root path: /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Api/
2025-08-21 19:42:57.606 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188
2025-08-21 19:42:57.759 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 19:42:57.779 +05:00 [INF] Route matched with {action = "Create", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(AirAstana.FlightControl.Application.Features.Flights.Commands.CreateFlightCommand) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 19:42:57.785 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api) in 2.6133ms
2025-08-21 19:42:57.787 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 19:42:57.789 +05:00 [ERR] Unhandled exception occurred while processing /api/Flights
System.InvalidOperationException: Unable to resolve service for type 'MediatR.IMediator' while attempting to activate 'AirAstana.FlightControl.Api.Controllers.FlightsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method15(Closure , IServiceProvider , Object[] )
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerActivatorProvider.<>c__DisplayClass7_0.<CreateActivator>b__0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AirAstana.FlightControl.Infrastructure.Logging.ExceptionMiddleware.InvokeAsync(HttpContext context) in /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Infrastructure/Logging/ExceptionMiddleware.cs:line 22
2025-08-21 19:42:57.880 +05:00 [ERR] HTTP POST /api/Flights responded 500 in 122.2739 ms
2025-08-21 19:42:57.882 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188 - 500 - application/json 277.5604ms
2025-08-21 19:51:09.503 +05:00 [INF] Application is shutting down...
2025-08-21 19:53:16.960 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 19:53:17.225 +05:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 19:53:17.255 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 19:53:17.266 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-21 19:53:17.282 +05:00 [INF] No migrations were applied. The database is already up to date.
2025-08-21 19:53:17.432 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS r)
2025-08-21 19:53:17.498 +05:00 [INF] User profile is available. Using '/Users/asylbekanarbaj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-21 19:53:17.583 +05:00 [INF] Now listening on: http://localhost:5000
2025-08-21 19:53:17.583 +05:00 [INF] Now listening on: https://localhost:5001
2025-08-21 19:53:17.585 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-21 19:53:17.586 +05:00 [INF] Hosting environment: Development
2025-08-21 19:53:17.586 +05:00 [INF] Content root path: /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Api/
2025-08-21 19:53:22.399 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188
2025-08-21 19:53:22.546 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 19:53:22.562 +05:00 [INF] Route matched with {action = "Create", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(AirAstana.FlightControl.Application.Features.Flights.Commands.CreateFlightCommand) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 19:53:22.676 +05:00 [INF] Executing action method AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api) - Validation state: "Valid"
2025-08-21 19:53:22.689 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 19:53:22.713 +05:00 [INF] Adding new flight: ALA -> KZO, Departure="2025-08-21T14:31:40.1930000+00:00", Arrival="2025-08-21T15:31:40.1930000+00:00", Status="InTime"
2025-08-21 19:53:22.726 +05:00 [ERR] Error while adding flight ALA -> KZO
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
FlightDto -> Flight
AirAstana.FlightControl.Application.DTOs.Flight.FlightDto -> AirAstana.FlightControl.Domain.Entities.Flight
   at lambda_method18(Closure , Object , Flight , ResolutionContext )
   at AirAstana.FlightControl.Infrastructure.Services.Flight.FlightService.AddFlightAsync(FlightDto flightDto, CancellationToken ct) in /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Infrastructure/Services/Flight/FlightService.cs:line 83
2025-08-21 19:53:22.745 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api) in 179.5698ms
2025-08-21 19:53:22.745 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 19:53:22.746 +05:00 [ERR] Unhandled exception occurred while processing /api/Flights
AutoMapper.AutoMapperMappingException: Missing type map configuration or unsupported mapping.

Mapping types:
FlightDto -> Flight
AirAstana.FlightControl.Application.DTOs.Flight.FlightDto -> AirAstana.FlightControl.Domain.Entities.Flight
   at lambda_method18(Closure , Object , Flight , ResolutionContext )
   at AirAstana.FlightControl.Infrastructure.Services.Flight.FlightService.AddFlightAsync(FlightDto flightDto, CancellationToken ct) in /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Infrastructure/Services/Flight/FlightService.cs:line 83
   at AirAstana.FlightControl.Application.Features.Flights.Commands.CreateFlightCommandHandler.Handle(CreateFlightCommand request, CancellationToken cancellationToken) in /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Application/Features/Flights/Commands/CreateFlight.cs:line 23
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestExceptionActionProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPostProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at MediatR.Pipeline.RequestPreProcessorBehavior`2.Handle(TRequest request, RequestHandlerDelegate`1 next, CancellationToken cancellationToken)
   at AirAstana.FlightControl.Api.Controllers.FlightsController.Create(CreateFlightCommand command) in /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Api/Controllers/FlightsController.cs:line 37
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Logged|12_1(ControllerActionInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|6_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at AirAstana.FlightControl.Infrastructure.Logging.ExceptionMiddleware.InvokeAsync(HttpContext context) in /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Infrastructure/Logging/ExceptionMiddleware.cs:line 22
2025-08-21 19:53:22.762 +05:00 [ERR] HTTP POST /api/Flights responded 500 in 216.8126 ms
2025-08-21 19:53:22.763 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188 - 500 - application/json 367.2864ms
2025-08-21 19:54:09.219 +05:00 [INF] Application is shutting down...
2025-08-21 19:58:19.483 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 19:58:19.762 +05:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 19:58:19.791 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 19:58:19.802 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-21 19:58:19.814 +05:00 [INF] No migrations were applied. The database is already up to date.
2025-08-21 19:58:19.932 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS r)
2025-08-21 19:58:20.000 +05:00 [INF] User profile is available. Using '/Users/asylbekanarbaj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-21 19:58:20.086 +05:00 [INF] Now listening on: http://localhost:5000
2025-08-21 19:58:20.086 +05:00 [INF] Now listening on: https://localhost:5001
2025-08-21 19:58:20.088 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-21 19:58:20.088 +05:00 [INF] Hosting environment: Development
2025-08-21 19:58:20.088 +05:00 [INF] Content root path: /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Api/
2025-08-21 20:00:18.090 +05:00 [INF] Application is shutting down...
2025-08-21 20:00:23.248 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:00:23.538 +05:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 20:00:23.568 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 20:00:23.577 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-21 20:00:23.594 +05:00 [INF] No migrations were applied. The database is already up to date.
2025-08-21 20:00:23.750 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS r)
2025-08-21 20:00:23.812 +05:00 [INF] User profile is available. Using '/Users/asylbekanarbaj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-21 20:00:23.899 +05:00 [INF] Now listening on: http://localhost:5000
2025-08-21 20:00:23.899 +05:00 [INF] Now listening on: https://localhost:5001
2025-08-21 20:00:23.902 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-21 20:00:23.902 +05:00 [INF] Hosting environment: Development
2025-08-21 20:00:23.902 +05:00 [INF] Content root path: /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Api/
2025-08-21 20:00:29.272 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188
2025-08-21 20:00:29.416 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 20:00:29.432 +05:00 [INF] Route matched with {action = "Create", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(AirAstana.FlightControl.Application.Features.Flights.Commands.CreateFlightCommand) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 20:00:29.544 +05:00 [INF] Executing action method AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api) - Validation state: "Valid"
2025-08-21 20:00:29.556 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:00:29.626 +05:00 [INF] Adding new flight: ALA -> KZO, Departure="2025-08-21T14:31:40.1930000+00:00", Arrival="2025-08-21T15:31:40.1930000+00:00", Status="InTime"
2025-08-21 20:00:29.687 +05:00 [INF] Flight ALA -> KZO prepared for saving
2025-08-21 20:00:29.691 +05:00 [INF] Executed action method AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 143.9273ms.
2025-08-21 20:00:29.696 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Int32'.
2025-08-21 20:00:29.719 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api) in 283.1502ms
2025-08-21 20:00:29.719 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 20:00:29.720 +05:00 [INF] HTTP POST /api/Flights responded 201 in 305.2252 ms
2025-08-21 20:00:29.723 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188 - 201 - application/json;+charset=utf-8 454.2905ms
2025-08-21 20:01:12.624 +05:00 [INF] Application is shutting down...
2025-08-21 20:01:18.176 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:01:18.593 +05:00 [INF] Executed DbCommand (27ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 20:01:18.725 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 20:01:18.783 +05:00 [INF] Executed DbCommand (50ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-21 20:01:18.794 +05:00 [INF] No migrations were applied. The database is already up to date.
2025-08-21 20:01:18.930 +05:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS r)
2025-08-21 20:01:19.077 +05:00 [INF] User profile is available. Using '/Users/asylbekanarbaj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-21 20:01:19.300 +05:00 [INF] Now listening on: http://localhost:5000
2025-08-21 20:01:19.300 +05:00 [INF] Now listening on: https://localhost:5001
2025-08-21 20:01:19.302 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-21 20:01:19.302 +05:00 [INF] Hosting environment: Development
2025-08-21 20:01:19.302 +05:00 [INF] Content root path: /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Api/
2025-08-21 20:03:22.415 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:03:22.860 +05:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 20:03:23.051 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 20:03:23.088 +05:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-21 20:03:23.100 +05:00 [INF] No migrations were applied. The database is already up to date.
2025-08-21 20:03:23.234 +05:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS r)
2025-08-21 20:03:23.340 +05:00 [INF] User profile is available. Using '/Users/asylbekanarbaj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-21 20:03:23.508 +05:00 [INF] Now listening on: http://localhost:5000
2025-08-21 20:03:23.508 +05:00 [INF] Now listening on: https://localhost:5001
2025-08-21 20:03:23.510 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-21 20:03:23.510 +05:00 [INF] Hosting environment: Development
2025-08-21 20:03:23.510 +05:00 [INF] Content root path: /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Api/
2025-08-21 20:03:29.394 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188
2025-08-21 20:03:29.571 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 20:03:29.584 +05:00 [INF] Route matched with {action = "Create", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(AirAstana.FlightControl.Application.DTOs.Flight.FlightDto) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 20:03:29.703 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-21 20:03:29.723 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api) in 137.0439ms
2025-08-21 20:03:29.723 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 20:03:29.725 +05:00 [INF] HTTP POST /api/Flights responded 400 in 154.1465 ms
2025-08-21 20:03:29.726 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188 - 400 - application/problem+json;+charset=utf-8 332.5771ms
2025-08-21 20:03:59.367 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188
2025-08-21 20:03:59.446 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 20:03:59.446 +05:00 [INF] Route matched with {action = "Create", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(AirAstana.FlightControl.Application.DTOs.Flight.FlightDto) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 20:03:59.447 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-21 20:03:59.448 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api) in 1.0527ms
2025-08-21 20:03:59.448 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 20:03:59.448 +05:00 [INF] HTTP POST /api/Flights responded 400 in 1.7003 ms
2025-08-21 20:03:59.448 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188 - 400 - application/problem+json;+charset=utf-8 80.8036ms
2025-08-21 20:04:05.425 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188
2025-08-21 20:04:05.426 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 20:04:05.426 +05:00 [INF] Route matched with {action = "Create", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(AirAstana.FlightControl.Application.DTOs.Flight.FlightDto) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 20:04:05.426 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-21 20:04:05.426 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api) in 0.3544ms
2025-08-21 20:04:05.426 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 20:04:05.427 +05:00 [INF] HTTP POST /api/Flights responded 400 in 0.8048 ms
2025-08-21 20:04:05.427 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188 - 400 - application/problem+json;+charset=utf-8 2.2491ms
2025-08-21 20:05:50.565 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188
2025-08-21 20:05:50.567 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 20:05:50.567 +05:00 [INF] Route matched with {action = "Create", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(AirAstana.FlightControl.Application.DTOs.Flight.FlightDto) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 20:05:50.568 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-21 20:05:50.568 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api) in 0.7832ms
2025-08-21 20:05:50.568 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 20:05:50.568 +05:00 [INF] HTTP POST /api/Flights responded 400 in 1.2862 ms
2025-08-21 20:05:50.568 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188 - 400 - application/problem+json;+charset=utf-8 3.5734ms
2025-08-21 20:05:58.838 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:05:59.221 +05:00 [INF] Executed DbCommand (31ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 20:05:59.426 +05:00 [INF] Executed DbCommand (26ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 20:05:59.438 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-21 20:05:59.448 +05:00 [INF] No migrations were applied. The database is already up to date.
2025-08-21 20:05:59.558 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS r)
2025-08-21 20:05:59.680 +05:00 [INF] User profile is available. Using '/Users/asylbekanarbaj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-21 20:05:59.857 +05:00 [INF] Now listening on: http://localhost:5000
2025-08-21 20:05:59.858 +05:00 [INF] Now listening on: https://localhost:5001
2025-08-21 20:05:59.859 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-21 20:05:59.859 +05:00 [INF] Hosting environment: Development
2025-08-21 20:05:59.859 +05:00 [INF] Content root path: /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Api/
2025-08-21 20:06:05.695 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188
2025-08-21 20:06:05.898 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 20:06:05.912 +05:00 [INF] Route matched with {action = "Create", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(AirAstana.FlightControl.Application.DTOs.Flight.FlightDto) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 20:06:06.027 +05:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-08-21 20:06:06.049 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api) in 135.5127ms
2025-08-21 20:06:06.050 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 20:06:06.051 +05:00 [INF] HTTP POST /api/Flights responded 400 in 153.4263 ms
2025-08-21 20:06:06.052 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Flights application/json 188 - 400 - application/problem+json;+charset=utf-8 358.9029ms
2025-08-21 20:06:56.553 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Flights application/json 171
2025-08-21 20:06:56.629 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 20:06:56.629 +05:00 [INF] Route matched with {action = "Create", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(AirAstana.FlightControl.Application.DTOs.Flight.FlightDto) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 20:06:56.640 +05:00 [INF] Executing action method AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api) - Validation state: "Valid"
2025-08-21 20:07:14.059 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:07:14.135 +05:00 [INF] Adding new flight: ALA -> AST, Departure="2025-08-21T14:31:40.1930000+00:00", Arrival="2025-08-21T15:31:40.1930000+00:00", Status="InTime"
2025-08-21 20:07:14.331 +05:00 [INF] Executed DbCommand (56ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Flights" ("Id", "Arrival", "Departure", "Destination", "Origin", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-21 20:07:14.425 +05:00 [INF] Flight ALA -> AST prepared for saving
2025-08-21 20:07:15.344 +05:00 [INF] Executed action method AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 18700.3856ms.
2025-08-21 20:07:15.347 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Int32'.
2025-08-21 20:07:15.378 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api) in 18748.3782ms
2025-08-21 20:07:15.379 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 20:07:15.380 +05:00 [INF] HTTP POST /api/Flights responded 201 in 18750.7842 ms
2025-08-21 20:07:15.390 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Flights application/json 171 - 201 - application/json;+charset=utf-8 18837.4436ms
2025-08-21 20:07:55.263 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:07:55.559 +05:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 20:07:55.594 +05:00 [INF] Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 20:07:55.608 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-21 20:07:55.622 +05:00 [INF] No migrations were applied. The database is already up to date.
2025-08-21 20:07:55.773 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS r)
2025-08-21 20:07:55.876 +05:00 [INF] User profile is available. Using '/Users/asylbekanarbaj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-21 20:07:55.981 +05:00 [INF] Now listening on: http://localhost:5000
2025-08-21 20:07:55.981 +05:00 [INF] Now listening on: https://localhost:5001
2025-08-21 20:07:55.983 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-21 20:07:55.983 +05:00 [INF] Hosting environment: Development
2025-08-21 20:07:55.983 +05:00 [INF] Content root path: /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Api/
2025-08-21 20:08:40.760 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Auth/login application/json 60
2025-08-21 20:08:40.811 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api)'
2025-08-21 20:08:40.826 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[AirAstana.FlightControl.Application.DTOs.Login.LoginDto+LoginResponse]] Login(LoginRequest) on controller AirAstana.FlightControl.Api.Controllers.AuthController (AirAstana.FlightControl.Api).
2025-08-21 20:08:40.910 +05:00 [INF] Executing action method AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api) - Validation state: "Valid"
2025-08-21 20:08:40.973 +05:00 [INF] Executed action method AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 60.9191ms.
2025-08-21 20:08:40.978 +05:00 [INF] Executing OkObjectResult, writing value of type 'AirAstana.FlightControl.Application.DTOs.Login.LoginDto+LoginResponse'.
2025-08-21 20:08:40.994 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api) in 164.7666ms
2025-08-21 20:08:40.994 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api)'
2025-08-21 20:08:40.995 +05:00 [INF] HTTP POST /api/Auth/login responded 200 in 185.4542 ms
2025-08-21 20:08:40.996 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Auth/login application/json 60 - 200 - application/json;+charset=utf-8 238.4157ms
2025-08-21 20:09:13.619 +05:00 [INF] Application is shutting down...
2025-08-21 20:09:17.731 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:09:18.375 +05:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 20:09:18.510 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 20:09:18.523 +05:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-21 20:09:18.533 +05:00 [INF] No migrations were applied. The database is already up to date.
2025-08-21 20:09:18.675 +05:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS r)
2025-08-21 20:09:18.791 +05:00 [INF] User profile is available. Using '/Users/asylbekanarbaj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-21 20:09:18.950 +05:00 [INF] Now listening on: http://localhost:5000
2025-08-21 20:09:18.950 +05:00 [INF] Now listening on: https://localhost:5001
2025-08-21 20:09:18.952 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-21 20:09:18.952 +05:00 [INF] Hosting environment: Development
2025-08-21 20:09:18.952 +05:00 [INF] Content root path: /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Api/
2025-08-21 20:10:00.995 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/index.html - -
2025-08-21 20:10:01.100 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/index.html - - - 200 - text/html;charset=utf-8 107.2474ms
2025-08-21 20:10:01.215 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - -
2025-08-21 20:10:01.287 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 71.7047ms
2025-08-21 20:10:11.008 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Flights application/json 169
2025-08-21 20:10:11.056 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 20:10:11.073 +05:00 [INF] Route matched with {action = "Create", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Create(AirAstana.FlightControl.Application.DTOs.Flight.FlightDto) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 20:10:11.123 +05:00 [INF] Executing action method AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api) - Validation state: "Valid"
2025-08-21 20:10:15.888 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:10:15.958 +05:00 [INF] Adding new flight: ALA -> KZO, Departure="2025-08-21T14:31:40.1930000+00:00", Arrival="2025-08-21T15:31:40.1930000+00:00", Status="InTime"
2025-08-21 20:10:16.083 +05:00 [INF] Executed DbCommand (14ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = DateTime), @p2='?' (DbType = DateTime), @p3='?', @p4='?', @p5='?'], CommandType='"Text"', CommandTimeout='30']
INSERT INTO "Flights" ("Id", "Arrival", "Departure", "Destination", "Origin", "Status")
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-08-21 20:10:16.101 +05:00 [INF] Flight ALA -> KZO prepared for saving
2025-08-21 20:10:16.108 +05:00 [INF] Executed action method AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api), returned result Microsoft.AspNetCore.Mvc.CreatedAtActionResult in 4981.8956ms.
2025-08-21 20:10:16.118 +05:00 [INF] Executing CreatedAtActionResult, writing value of type 'System.Int32'.
2025-08-21 20:10:16.146 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api) in 5069.8082ms
2025-08-21 20:10:16.147 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.Create (AirAstana.FlightControl.Api)'
2025-08-21 20:10:16.150 +05:00 [INF] HTTP POST /api/Flights responded 201 in 5093.4513 ms
2025-08-21 20:10:16.157 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Flights application/json 169 - 201 - application/json;+charset=utf-8 5148.5777ms
2025-08-21 20:10:25.686 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Flights - -
2025-08-21 20:10:25.687 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api)'
2025-08-21 20:10:25.690 +05:00 [INF] Route matched with {action = "GetFlights", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlights(System.String, System.String) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 20:10:25.691 +05:00 [INF] Executing action method AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api) - Validation state: "Valid"
2025-08-21 20:10:25.709 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:10:25.711 +05:00 [INF] Fetching flights with filters Origin=null, Destination=null
2025-08-21 20:10:25.763 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."Origin", f."Destination", f."Departure", f."Arrival", f."Status"
FROM "Flights" AS f
ORDER BY f."Arrival"
2025-08-21 20:10:25.797 +05:00 [INF] Found 2 flights after filtering
2025-08-21 20:10:25.800 +05:00 [INF] Executed action method AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 108.2355ms.
2025-08-21 20:10:25.800 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AirAstana.FlightControl.Application.DTOs.Flight.FlightDto, AirAstana.FlightControl.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-21 20:10:25.814 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api) in 124.2375ms
2025-08-21 20:10:25.815 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api)'
2025-08-21 20:10:25.815 +05:00 [INF] HTTP GET /api/Flights responded 200 in 127.2416 ms
2025-08-21 20:10:25.815 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Flights - - - 200 - application/json;+charset=utf-8 129.0065ms
2025-08-21 20:10:32.332 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Flights?origin=0 - -
2025-08-21 20:10:32.333 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api)'
2025-08-21 20:10:32.334 +05:00 [INF] Route matched with {action = "GetFlights", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlights(System.String, System.String) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 20:10:32.338 +05:00 [INF] Executing action method AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api) - Validation state: "Valid"
2025-08-21 20:10:32.338 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:10:32.338 +05:00 [INF] Fetching flights with filters Origin=0, Destination=null
2025-08-21 20:10:32.339 +05:00 [INF] Applied filter by Origin=0
2025-08-21 20:10:32.362 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__origin_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."Origin", f."Destination", f."Departure", f."Arrival", f."Status"
FROM "Flights" AS f
WHERE f."Origin" = @__origin_0
ORDER BY f."Arrival"
2025-08-21 20:10:32.388 +05:00 [INF] Found 0 flights after filtering
2025-08-21 20:10:32.390 +05:00 [INF] Executed action method AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 51.8198ms.
2025-08-21 20:10:32.390 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AirAstana.FlightControl.Application.DTOs.Flight.FlightDto, AirAstana.FlightControl.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-21 20:10:32.390 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api) in 56.743ms
2025-08-21 20:10:32.391 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api)'
2025-08-21 20:10:32.391 +05:00 [INF] HTTP GET /api/Flights responded 200 in 58.0599 ms
2025-08-21 20:10:32.392 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Flights?origin=0 - - - 200 - application/json;+charset=utf-8 59.6472ms
2025-08-21 20:10:37.882 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Flights - -
2025-08-21 20:10:37.882 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api)'
2025-08-21 20:10:37.882 +05:00 [INF] Route matched with {action = "GetFlights", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlights(System.String, System.String) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 20:10:37.882 +05:00 [INF] Executing action method AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api) - Validation state: "Valid"
2025-08-21 20:10:37.884 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:10:37.884 +05:00 [INF] Fetching flights with filters Origin=null, Destination=null
2025-08-21 20:10:37.887 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."Origin", f."Destination", f."Departure", f."Arrival", f."Status"
FROM "Flights" AS f
ORDER BY f."Arrival"
2025-08-21 20:10:37.912 +05:00 [INF] Found 2 flights after filtering
2025-08-21 20:10:37.933 +05:00 [INF] Executed action method AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 51.1405ms.
2025-08-21 20:10:37.934 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AirAstana.FlightControl.Application.DTOs.Flight.FlightDto, AirAstana.FlightControl.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-21 20:10:37.983 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api) in 75.2753ms
2025-08-21 20:10:38.008 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api)'
2025-08-21 20:10:38.008 +05:00 [INF] HTTP GET /api/Flights responded 200 in 126.2222 ms
2025-08-21 20:10:38.008 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Flights - - - 200 - application/json;+charset=utf-8 126.6398ms
2025-08-21 20:10:44.809 +05:00 [INF] Request starting HTTP/1.1 GET http://localhost:5000/api/Flights?destination=KZO - -
2025-08-21 20:10:44.809 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api)'
2025-08-21 20:10:44.809 +05:00 [INF] Route matched with {action = "GetFlights", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetFlights(System.String, System.String) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 20:10:44.810 +05:00 [INF] Executing action method AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api) - Validation state: "Valid"
2025-08-21 20:10:44.811 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:10:44.811 +05:00 [INF] Fetching flights with filters Origin=null, Destination=KZO
2025-08-21 20:10:44.811 +05:00 [INF] Applied filter by Destination=KZO
2025-08-21 20:10:44.814 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__destination_0='?'], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."Origin", f."Destination", f."Departure", f."Arrival", f."Status"
FROM "Flights" AS f
WHERE f."Destination" = @__destination_0
ORDER BY f."Arrival"
2025-08-21 20:10:44.841 +05:00 [INF] Found 1 flights after filtering
2025-08-21 20:10:44.842 +05:00 [INF] Executed action method AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 32.0295ms.
2025-08-21 20:10:44.868 +05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[AirAstana.FlightControl.Application.DTOs.Flight.FlightDto, AirAstana.FlightControl.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-08-21 20:10:44.869 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api) in 59.078ms
2025-08-21 20:10:44.869 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.GetFlights (AirAstana.FlightControl.Api)'
2025-08-21 20:10:44.869 +05:00 [INF] HTTP GET /api/Flights responded 200 in 59.8796 ms
2025-08-21 20:10:44.869 +05:00 [INF] Request finished HTTP/1.1 GET http://localhost:5000/api/Flights?destination=KZO - - - 200 - application/json;+charset=utf-8 60.4054ms
2025-08-21 20:11:04.095 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:11:04.496 +05:00 [INF] Executed DbCommand (34ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 20:11:04.794 +05:00 [INF] Executed DbCommand (53ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 20:11:04.805 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-21 20:11:04.816 +05:00 [INF] No migrations were applied. The database is already up to date.
2025-08-21 20:11:04.929 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS r)
2025-08-21 20:11:05.065 +05:00 [INF] User profile is available. Using '/Users/asylbekanarbaj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-21 20:11:05.219 +05:00 [INF] Now listening on: http://localhost:5000
2025-08-21 20:11:05.219 +05:00 [INF] Now listening on: https://localhost:5001
2025-08-21 20:11:05.221 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-21 20:11:05.221 +05:00 [INF] Hosting environment: Development
2025-08-21 20:11:05.221 +05:00 [INF] Content root path: /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Api/
2025-08-21 20:11:17.927 +05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/Flights/1/status application/json 28
2025-08-21 20:11:18.016 +05:00 [INF] Authorization failed. These requirements were not met:
RolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Moderator)
2025-08-21 20:11:18.019 +05:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-08-21 20:11:18.025 +05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/Flights/1/status application/json 28 - 401 0 - 98.4878ms
2025-08-21 20:12:37.266 +05:00 [INF] Request starting HTTP/1.1 POST http://localhost:5000/api/Auth/login application/json 60
2025-08-21 20:12:37.274 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api)'
2025-08-21 20:12:37.294 +05:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[AirAstana.FlightControl.Application.DTOs.Login.LoginDto+LoginResponse]] Login(LoginRequest) on controller AirAstana.FlightControl.Api.Controllers.AuthController (AirAstana.FlightControl.Api).
2025-08-21 20:12:37.390 +05:00 [INF] Executing action method AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api) - Validation state: "Valid"
2025-08-21 20:12:37.466 +05:00 [INF] Executed action method AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api), returned result Microsoft.AspNetCore.Mvc.OkObjectResult in 73.5545ms.
2025-08-21 20:12:37.470 +05:00 [INF] Executing OkObjectResult, writing value of type 'AirAstana.FlightControl.Application.DTOs.Login.LoginDto+LoginResponse'.
2025-08-21 20:12:37.484 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api) in 187.0955ms
2025-08-21 20:12:37.484 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.AuthController.Login (AirAstana.FlightControl.Api)'
2025-08-21 20:12:37.485 +05:00 [INF] HTTP POST /api/Auth/login responded 200 in 214.7364 ms
2025-08-21 20:12:37.486 +05:00 [INF] Request finished HTTP/1.1 POST http://localhost:5000/api/Auth/login application/json 60 - 200 - application/json;+charset=utf-8 219.8167ms
2025-08-21 20:12:44.492 +05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/Flights/1/status?id=1 application/json 28
2025-08-21 20:12:44.551 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api)'
2025-08-21 20:12:44.553 +05:00 [INF] Route matched with {action = "UpdateStatus", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateStatus(Int32, AirAstana.FlightControl.Application.Features.Flights.Commands.UpdateFlightStatusCommand) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 20:12:44.578 +05:00 [INF] Executing action method AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api) - Validation state: "Valid"
2025-08-21 20:12:44.588 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:12:44.664 +05:00 [INF] Looking for flight with Id=1
2025-08-21 20:12:44.727 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."Arrival", f."Departure", f."Destination", f."Origin", f."Status"
FROM "Flights" AS f
WHERE f."Id" = @__id_0
LIMIT 1
2025-08-21 20:12:44.767 +05:00 [INF] Flight with Id=1 found: ALA -> AST, Status="InTime"
2025-08-21 20:12:44.797 +05:00 [INF] User system saved 0 changes to database
2025-08-21 20:12:44.801 +05:00 [INF] Executed action method AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api), returned result Microsoft.AspNetCore.Mvc.OkResult in 222.4344ms.
2025-08-21 20:12:44.806 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-08-21 20:12:44.807 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api) in 253.2276ms
2025-08-21 20:12:44.807 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api)'
2025-08-21 20:12:44.808 +05:00 [INF] HTTP PUT /api/Flights/1/status responded 200 in 256.9581 ms
2025-08-21 20:12:44.817 +05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/Flights/1/status?id=1 application/json 28 - 200 0 - 324.6740ms
2025-08-21 20:29:36.340 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:29:36.787 +05:00 [INF] Executed DbCommand (28ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 20:29:36.922 +05:00 [INF] Executed DbCommand (30ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 20:29:36.982 +05:00 [INF] Executed DbCommand (52ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-21 20:29:36.992 +05:00 [INF] No migrations were applied. The database is already up to date.
2025-08-21 20:29:37.154 +05:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS r)
2025-08-21 20:29:37.336 +05:00 [INF] User profile is available. Using '/Users/asylbekanarbaj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-21 20:29:37.490 +05:00 [INF] Now listening on: http://localhost:5000
2025-08-21 20:29:37.490 +05:00 [INF] Now listening on: https://localhost:5001
2025-08-21 20:29:37.492 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-21 20:29:37.492 +05:00 [INF] Hosting environment: Development
2025-08-21 20:29:37.492 +05:00 [INF] Content root path: /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Api/
2025-08-21 20:29:42.601 +05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/Flights/1/status?id=1 application/json 28
2025-08-21 20:29:42.846 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api)'
2025-08-21 20:29:42.860 +05:00 [INF] Route matched with {action = "UpdateStatus", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateStatus(Int32, AirAstana.FlightControl.Application.Features.Flights.Commands.UpdateFlightStatusCommand) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 20:29:42.975 +05:00 [INF] Executing action method AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api) - Validation state: "Valid"
2025-08-21 20:29:42.984 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:29:43.014 +05:00 [INF] Fetching flight with Id=1
2025-08-21 20:29:43.086 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."Arrival", f."Departure", f."Destination", f."Origin", f."Status"
FROM "Flights" AS f
WHERE f."Id" = @__id_0
LIMIT 1
2025-08-21 20:29:43.096 +05:00 [INF] Saving changes by user system
2025-08-21 20:29:43.117 +05:00 [INF] Executed action method AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api), returned result Microsoft.AspNetCore.Mvc.OkResult in 138.4425ms.
2025-08-21 20:29:43.125 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-08-21 20:29:43.130 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api) in 266.5758ms
2025-08-21 20:29:43.131 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api)'
2025-08-21 20:29:43.134 +05:00 [INF] HTTP PUT /api/Flights/1/status responded 200 in 287.9122 ms
2025-08-21 20:29:43.150 +05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/Flights/1/status?id=1 application/json 28 - 200 0 - 548.1362ms
2025-08-21 20:30:49.996 +05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/Flights/1/status?id=1 application/json 28
2025-08-21 20:30:49.999 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api)'
2025-08-21 20:30:50.000 +05:00 [INF] Route matched with {action = "UpdateStatus", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateStatus(Int32, AirAstana.FlightControl.Application.Features.Flights.Commands.UpdateFlightStatusCommand) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 20:30:50.001 +05:00 [INF] Executing action method AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api) - Validation state: "Valid"
2025-08-21 20:30:50.015 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:30:50.016 +05:00 [INF] Fetching flight with Id=1
2025-08-21 20:30:50.046 +05:00 [INF] Executed DbCommand (26ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."Arrival", f."Departure", f."Destination", f."Origin", f."Status"
FROM "Flights" AS f
WHERE f."Id" = @__id_0
LIMIT 1
2025-08-21 20:31:06.939 +05:00 [INF] Saving changes by user system
2025-08-21 20:31:06.940 +05:00 [INF] Executed action method AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api), returned result Microsoft.AspNetCore.Mvc.OkResult in 16938.9546ms.
2025-08-21 20:31:06.940 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-08-21 20:31:06.940 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api) in 16940.5712ms
2025-08-21 20:31:06.940 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api)'
2025-08-21 20:31:06.940 +05:00 [INF] HTTP PUT /api/Flights/1/status responded 200 in 16941.3050 ms
2025-08-21 20:31:06.941 +05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/Flights/1/status?id=1 application/json 28 - 200 0 - 16945.0635ms
2025-08-21 20:32:10.986 +05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/Flights/1/status?id=1 application/json 28
2025-08-21 20:32:10.989 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api)'
2025-08-21 20:32:10.990 +05:00 [INF] Route matched with {action = "UpdateStatus", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateStatus(Int32, AirAstana.FlightControl.Application.Features.Flights.Commands.UpdateFlightStatusCommand) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 20:32:10.991 +05:00 [INF] Executing action method AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api) - Validation state: "Valid"
2025-08-21 20:32:10.992 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:32:10.993 +05:00 [INF] Fetching flight with Id=1
2025-08-21 20:32:10.995 +05:00 [INF] Executed DbCommand (1ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."Arrival", f."Departure", f."Destination", f."Origin", f."Status"
FROM "Flights" AS f
WHERE f."Id" = @__id_0
LIMIT 1
2025-08-21 20:32:34.131 +05:00 [INF] Saving changes by user system
2025-08-21 20:32:35.602 +05:00 [INF] Executed action method AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api), returned result Microsoft.AspNetCore.Mvc.OkResult in 24611.259ms.
2025-08-21 20:32:35.602 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-08-21 20:32:35.603 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api) in 24612.9093ms
2025-08-21 20:32:35.603 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api)'
2025-08-21 20:32:35.603 +05:00 [INF] HTTP PUT /api/Flights/1/status responded 200 in 24614.0120 ms
2025-08-21 20:32:35.604 +05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/Flights/1/status?id=1 application/json 28 - 200 0 - 24619.4505ms
2025-08-21 20:34:15.027 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:34:15.421 +05:00 [INF] Executed DbCommand (33ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 20:34:15.584 +05:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

SELECT EXISTS (
    SELECT 1 FROM pg_catalog.pg_class c
    JOIN pg_catalog.pg_namespace n ON n.oid=c.relnamespace
    WHERE n.nspname='public' AND
          c.relname='__EFMigrationsHistory'
)
2025-08-21 20:34:15.620 +05:00 [INF] Executed DbCommand (25ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT "MigrationId", "ProductVersion"
FROM "__EFMigrationsHistory"
ORDER BY "MigrationId";
2025-08-21 20:34:15.631 +05:00 [INF] No migrations were applied. The database is already up to date.
2025-08-21 20:34:15.787 +05:00 [INF] Executed DbCommand (24ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT EXISTS (
    SELECT 1
    FROM "Roles" AS r)
2025-08-21 20:34:15.921 +05:00 [INF] User profile is available. Using '/Users/asylbekanarbaj/.aspnet/DataProtection-Keys' as key repository; keys will not be encrypted at rest.
2025-08-21 20:34:16.096 +05:00 [INF] Now listening on: http://localhost:5000
2025-08-21 20:34:16.096 +05:00 [INF] Now listening on: https://localhost:5001
2025-08-21 20:34:16.098 +05:00 [INF] Application started. Press Ctrl+C to shut down.
2025-08-21 20:34:16.098 +05:00 [INF] Hosting environment: Development
2025-08-21 20:34:16.098 +05:00 [INF] Content root path: /Users/asylbekanarbaj/Documents/projects/AirAstana.FlightControl/src/AirAstana.FlightControl.Api/
2025-08-21 20:34:20.032 +05:00 [INF] Request starting HTTP/1.1 PUT http://localhost:5000/api/Flights/1/status?id=1 application/json 28
2025-08-21 20:34:20.197 +05:00 [INF] Executing endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api)'
2025-08-21 20:34:20.213 +05:00 [INF] Route matched with {action = "UpdateStatus", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] UpdateStatus(Int32, AirAstana.FlightControl.Application.Features.Flights.Commands.UpdateFlightStatusCommand) on controller AirAstana.FlightControl.Api.Controllers.FlightsController (AirAstana.FlightControl.Api).
2025-08-21 20:34:20.323 +05:00 [INF] Executing action method AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api) - Validation state: "Valid"
2025-08-21 20:34:20.360 +05:00 [INF] Entity Framework Core 6.0.29 initialized 'AppDbContextImp' using provider 'Npgsql.EntityFrameworkCore.PostgreSQL:6.0.29+1cc46a0695f052ba0f1ade7046d577882d351f39' with options: None
2025-08-21 20:34:20.362 +05:00 [INF] Fetching flight with Id=1
2025-08-21 20:34:20.431 +05:00 [INF] Executed DbCommand (7ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT f."Id", f."Arrival", f."Departure", f."Destination", f."Origin", f."Status"
FROM "Flights" AS f
WHERE f."Id" = @__id_0
LIMIT 1
2025-08-21 20:34:25.468 +05:00 [INF] Saving changes by user system
2025-08-21 20:34:26.893 +05:00 [INF] Executed DbCommand (4ms) [Parameters=[@p1='?' (DbType = Int32), @p0='?'], CommandType='"Text"', CommandTimeout='30']
UPDATE "Flights" SET "Status" = @p0
WHERE "Id" = @p1;
2025-08-21 20:34:26.915 +05:00 [INF] Executed action method AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api), returned result Microsoft.AspNetCore.Mvc.OkResult in 6589.2339ms.
2025-08-21 20:34:26.924 +05:00 [INF] Executing StatusCodeResult, setting HTTP status code 200
2025-08-21 20:34:26.928 +05:00 [INF] Executed action AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api) in 6711.678ms
2025-08-21 20:34:26.929 +05:00 [INF] Executed endpoint 'AirAstana.FlightControl.Api.Controllers.FlightsController.UpdateStatus (AirAstana.FlightControl.Api)'
2025-08-21 20:34:26.933 +05:00 [INF] HTTP PUT /api/Flights/1/status responded 200 in 6734.5942 ms
2025-08-21 20:34:26.950 +05:00 [INF] Request finished HTTP/1.1 PUT http://localhost:5000/api/Flights/1/status?id=1 application/json 28 - 200 0 - 6918.0961ms
